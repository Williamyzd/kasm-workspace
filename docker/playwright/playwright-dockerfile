FROM registry.cn-hangzhou.aliyuncs.com/reg_pub/ubuntu:22.04
ENV DEBIAN_FRONTEND=noninteractive
RUN apt-get update 
RUN apt-get install -y x11vnc xvfb wget tigervnc-standalone-server net-tools iputils-ping && \
    rm -rf /var/lib/apt/lists/* && \
    mkdir -p /root/.vnc && \
    echo "mypassword" | vncpasswd -f > /root/.vnc/passwd && \
    chmod 600 /root/.vnc/passwd

COPY start.sh /start.sh
RUN chmod +x /start.sh

CMD ["/start.sh"]
